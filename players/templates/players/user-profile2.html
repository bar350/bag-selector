{% extends 'base.html' %}

{% block content %}
	
<div class="container-fluid">
	<h3>{{ player.first_name }} {{ player.last_name }} ({{ player.bgg_username }})</h3>
	<div class="row">
		<div class="col s5 offset-s3">
			BoardGame Count {{ games|length }}
		</div>
	</div>
	<div class="row">
		<div class="col s3">
			<h5>Filter Options</h5>
			<div class="row">
				<label class="col s5">
					Exclude Expansions
				</label>
				<div class="col s7">
					<div class="switch">
					    <label>
					      Off
					      <input type="checkbox" id="expansions">
					      <span class="lever"></span>
					      On
					    </label>
					  </div>
				</div>
			</div>
		</div>
		<div class="col s9">
			<div class="row">
			{% for game in games %}
				<div class="col s4 game" data-id="{{ game.id }}" data-info="{{ game.jsonify }}">
					<a href="{% url 'boardgame-detail' pk=game.id %}">
						<img src="{{ game.thumbnail }}" />
					</a><br />
					<label>{{ game.name }}</label>
				</div>
			{% endfor %}
			</div>
		</div>
	</div>
</div>
	<script type="text/javascript">
		$(function() {
		    $('#expansions').on('change', function() { 
		    	if($(this).is(':checked')) {
		    		$('.game').each(function() {
		    			var game_info = $(this).attr('data-info');
		    			if(JSON.parse(game_info).expansion) {
		    				$(this).hide();
		    			}
		    		});
		    	} else {
		    		$('.game').each(function() {
		    			var game_info = $(this).attr('data-info');
		    			if(JSON.parse(game_info).expansion) {
		    				$(this).show();
		    			}
		    		});
		    	}
		    });
		});
	</script>
{% endblock content %}